<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown to Javier's Special Event</title>
    <style>
        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #2c3e50, #4a5a6a);
            font-family: 'Arial', sans-serif;
            color: #ecf0f1;
            overflow: hidden;
        }
        .countdown {
            background: rgba(44, 62, 80, 0.2);
            border-radius: 10px;
            backdrop-filter: blur(10px);
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        .countdown h1 {
            font-size: 2em;
            margin: 0;
            color: #ecf0f1;
        }
        .countdown p {
            font-size: 4em;
            margin: 0;
            color: #ecf0f1;
        }
        .progress-bar {
            width: 80%;
            height: 20px;
            background: rgba(44, 62, 80, 0.2);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .progress-bar div {
            height: 100%;
            background: #1abc9c;
            width: 0;
            transition: width 1s linear;
        }
        .fullscreen-toggle {
            margin-top: 20px;
            font-size: 1em;
            padding: 10px 20px;
            background: #1abc9c;
            border: none;
            border-radius: 5px;
            color: #ecf0f1;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        #special-event {
            display: none;
            font-size: 3em;
            color: #ffcc00;
            text-shadow: 2px 2px 4px #000;
        }
        .fireworks {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="countdown">
        <h1>Countdown to Javier's Special Event ðŸ’£</h1>
        <p id="timer">00:00</p>
    </div>
    <div class="progress-bar">
        <div id="progress"></div>
    </div>
    <button class="fullscreen-toggle" onclick="toggleFullScreen()">Toggle Fullscreen</button>
    <div id="special-event">Javier's Special Event ðŸ’£!</div>
    <canvas class="fireworks"></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fireworks-js@2.0.0/dist/fireworks.js"></script>
    <script>
        function updateTimer() {
            const eventDate = new Date(new Date().getFullYear(), 0, 10);
            const now = new Date();
            const distance = eventDate - now;

            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('timer').textContent = 
                ('0' + minutes).slice(-2) + ':' + ('0' + seconds).slice(-2);

            const totalSecondsInYear = 365 * 24 * 60 * 60;
            const elapsedSeconds = Math.floor((eventDate - now) / 1000);
            const progressBarWidth = ((totalSecondsInYear - elapsedSeconds) / totalSecondsInYear) * 100;

            document.getElementById('progress').style.width = progressBarWidth + '%';

            if (distance < 0) {
                clearInterval(x);
                document.getElementById('timer').textContent = "EXPIRED";
                document.getElementById('progress').style.width = '100%';
                document.getElementById('special-event').style.display = 'block';
                startFireworks();
            }
        }

        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        function startFireworks() {
            const container = document.querySelector('.fireworks');
            const fireworks = new Fireworks(container, {
                autoresize: true,
                opacity: 0.5,
                acceleration: 1.05,
                friction: 0.97,
                gravity: 1.5,
                particles: 50,
                trace: 3,
                traceSpeed: 10,
                explosion: 5,
                intensity: 30,
                flickering: 50,
                lineWidth: 2,
                hue: {
                    min: 0,
                    max: 360
                },
                delay: {
                    min: 30,
                    max: 60
                },
                rocketsPoint: {
                    min: 50,
                    max: 50
                },
                lineStyle: 'round',
                sound: {
                    enabled: true,
                    files: [
                        'explosion0.mp3',
                        'explosion1.mp3',
                        'explosion2.mp3'
                    ],
                    volume: {
                        min: 4,
                        max: 8
                    }
                }
            });
            fireworks.start();
        }

        updateTimer();
        const x = setInterval(updateTimer, 1000);
    </script>
</body>
</html>
