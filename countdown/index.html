<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Countdown to Javier's Special Event</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Funnel+Display:wght@400;700&display=swap');

        body, html {
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #000000; /* AMOLED black */
            font-family: 'Funnel Display', sans-serif;
            color: #ecf0f1;
            overflow: hidden;
            text-align: center; /* Center text content */
        }
        .countdown {
            background: rgba(44, 62, 80, 0.2);
            border-radius: 10px;
            backdrop-filter: blur(10px);
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
        }
        .countdown h1 {
            font-size: 2em;
            margin: 0;
            color: #ecf0f1;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
            cursor: pointer; /* Make clickable */
        }
        .countdown p {
            font-size: 2em;
            margin: 0;
            color: #ecf0f1;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
        }
        .progress-bar {
            width: 80%;
            height: 20px;
            background: rgba(44, 62, 80, 0.2);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
        }
        .progress-bar div {
            height: 100%;
            width: 0;
            transition: width 1s linear;
        }
        #progress-days {
            background: linear-gradient(90deg, #ff9a9e, #fad0c4);
        }
        #progress-hours {
            background: linear-gradient(90deg, #a1c4fd, #c2e9fb);
        }
        #progress-minutes {
            background: linear-gradient(90deg, #fbc2eb, #a6c1ee);
        }
        #progress-seconds {
            background: linear-gradient(90deg, #ffecd2, #fcb69f);
        }
        .fullscreen-toggle {
            margin-top: 20px;
            font-size: 1em;
            padding: 10px 20px;
            background: linear-gradient(90deg, #1abc9c, #16a085);
            border: none;
            border-radius: 5px;
            color: #ecf0f1;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);
        }
        #special-event {
            display: none;
            font-size: 3em;
            color: #ffcc00;
            text-shadow: 2px 2px 4px #000;
            cursor: pointer;
        }
        .fireworks {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        .bomb {
            position: absolute;
            font-size: 20px;
            animation: growBomb 0.5s forwards;
        }
        @keyframes growBomb {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }
    </style>
</head>
<body>
    <div class="countdown">
        <h1 onclick="confettiBomb()">Countdown to Javier's Special Event ðŸ’£</h1>
        <p id="days">0 Days</p>
        <div class="progress-bar">
            <div id="progress-days"></div>
        </div>
        <p id="hours">00 Hours</p>
        <div class="progress-bar">
            <div id="progress-hours"></div>
        </div>
        <p id="minutes">00 Minutes</p>
        <div class="progress-bar">
            <div id="progress-minutes"></div>
        </div>
        <p id="seconds">00 Seconds</p>
        <div class="progress-bar">
            <div id="progress-seconds"></div>
        </div>
    </div>
    <button class="fullscreen-toggle" onclick="toggleFullScreen()">Toggle Fullscreen</button>
    <div id="special-event" onclick="confettiBomb()">Javier's Special Event ðŸ’£!</div>
    <canvas class="fireworks"></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fireworks-js@2.0.0/dist/fireworks.js"></script>
    <script>
        let bombCount = 0;
        let bombInterval;

        function updateTimer() {
            const eventDate = new Date(new Date().getFullYear(), 0, 10);
            const now = new Date();
            const distance = eventDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days + ' Days';
            document.getElementById('hours').textContent = ('0' + hours).slice(-2) + ' Hours';
            document.getElementById('minutes').textContent = ('0' + minutes).slice(-2) + ' Minutes';
            document.getElementById('seconds').textContent = ('0' + seconds).slice(-2) + ' Seconds';

            const totalDays = 365;
            const totalHours = 24;
            const totalMinutes = 60;
            const totalSeconds = 60;

            const progressDaysWidth = ((totalDays - days) / totalDays) * 100;
            const progressHoursWidth = ((totalHours - hours) / totalHours) * 100;
            const progressMinutesWidth = ((totalMinutes - minutes) / totalMinutes) * 100;
            const progressSecondsWidth = ((totalSeconds - seconds) / totalSeconds) * 100;

            document.getElementById('progress-days').style.width = progressDaysWidth + '%';
            document.getElementById('progress-hours').style.width = progressHoursWidth + '%';
            document.getElementById('progress-minutes').style.width = progressMinutesWidth + '%';
            document.getElementById('progress-seconds').style.width = progressSecondsWidth + '%';

            if (distance < 0) {
                clearInterval(x);
                document.getElementById('days').textContent = "0 Days";
                document.getElementById('hours').textContent = "00 Hours";
                document.getElementById('minutes').textContent = "00 Minutes";
                document.getElementById('seconds').textContent = "00 Seconds";
                document.getElementById('progress-days').style.width = '100%';
                document.getElementById('progress-hours').style.width = '100%';
                document.getElementById('progress-minutes').style.width = '100%';
                document.getElementById('progress-seconds').style.width = '100%';
                document.getElementById('special-event').style.display = 'block';
                startFireworks();
            }
        }

        function toggleFullScreen() {
            const fullscreenButton = document.querySelector('.fullscreen-toggle');
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
                fullscreenButton.style.display = 'none'; // Hide button in fullscreen
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                    fullscreenButton.style.display = 'block'; // Show button when exiting fullscreen
                }
            }
        }

        function startFireworks() {
            const container = document.querySelector('.fireworks');
            const fireworks = new Fireworks(container, {
                autoresize: true,
                opacity: 0.5,
                acceleration: 1.05,
                friction: 0.97,
                gravity: 1.5,
                particles: 50,
                trace: 3,
                traceSpeed: 10,
                explosion: 5,
                intensity: 30,
                flickering: 50,
                lineWidth: 2,
                hue: {
                    min: 0,
                    max: 360
                },
                delay: {
                    min: 30,
                    max: 60
                },
                rocketsPoint: {
                    min: 50,
                    max: 50
                },
                lineStyle: 'round',
                sound: {
                    enabled: true,
                    files: [
                        'explosion0.mp3',
                        'explosion1.mp3',
                        'explosion2.mp3'
                    ],
                    volume: {
                        min: 4,
                        max: 8
                    }
                }
            });
            fireworks.start();
        }

        function confettiBomb() {
            bombCount = 0;
            bombInterval = setInterval(createBomb, 1000 / 60 * 6); // Create bomb every 6 frames
            setTimeout(() => clearInterval(bombInterval), 1000); // Stop after a second
        }

        function createBomb() {
            if (bombCount >= 10) return;
            bombCount++;
            const bomb = document.createElement('div');
            bomb.innerText = 'ðŸ’£';
            bomb.className = 'bomb';
            bomb.style.top = Math.random() * window.innerHeight + 'px';
            bomb.style.left = Math.random() * window.innerWidth + 'px';
            document.body.appendChild(bomb);

            setTimeout(() => {
                bomb.remove();
            }, 3000);
        }

        updateTimer();
        const x = setInterval(updateTimer, 1000);
    </script>
</body>
</html>
